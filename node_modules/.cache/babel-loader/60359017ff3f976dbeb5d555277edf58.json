{"ast":null,"code":"/*\nCopyright (c) 2019 Daybrush\nname: list-map\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/list-map.git\nversion: 0.1.1\n*/\nimport { findIndex, find } from '@daybrush/utils';\n/**\n *\n */\n\nvar ListMap = /*#__PURE__*/function () {\n  function ListMap() {\n    this.obj = {};\n    this.objKeys = [];\n  }\n  /**\n   *\n   */\n\n\n  var __proto = ListMap.prototype;\n\n  __proto.has = function (key) {\n    return key in this.obj;\n  };\n  /**\n   *\n   */\n\n\n  __proto.get = function (key) {\n    return this.obj[key];\n  };\n  /**\n   *\n   */\n\n\n  __proto.set = function (key, value) {\n    if (!this.has(key)) {\n      this.objKeys.push(key);\n    }\n\n    this.setItem(key, value);\n    return this;\n  };\n  /**\n   *\n   */\n\n\n  __proto.size = function () {\n    return this.objKeys.length;\n  };\n  /**\n   *\n   */\n\n\n  __proto.keys = function () {\n    return this.objKeys.slice();\n  };\n  /**\n   *\n   */\n\n\n  __proto.values = function () {\n    var obj = this.obj;\n    var keys = this.objKeys;\n    return keys.map(function (key) {\n      return obj[key];\n    });\n  };\n  /**\n   *\n   */\n\n\n  __proto.getIndex = function (key) {\n    return this.objKeys.indexOf(key);\n  };\n  /**\n   *\n   */\n\n\n  __proto.findIndex = function (callback) {\n    var obj = this.obj;\n    return findIndex(this.objKeys, function (key, i) {\n      return callback(obj[key], key, i, obj);\n    });\n  };\n  /**\n   *\n   */\n\n\n  __proto.find = function (callback) {\n    var obj = this.obj;\n    var result = find(this.objKeys, function (key, i) {\n      return callback(obj[key], key, i, obj);\n    });\n    return obj[result];\n  };\n  /**\n   *\n   */\n\n\n  __proto.remove = function (key) {\n    if (this.has(key)) {\n      var index = this.getIndex(key);\n      this.removeItem(key);\n      this.spliceKeys(index, 1);\n    }\n\n    return this;\n  };\n  /**\n   *\n   */\n\n\n  __proto.splice = function (index, deleteCount) {\n    var _this = this;\n\n    var items = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      items[_i - 2] = arguments[_i];\n    }\n\n    var added = items.filter(function (_a) {\n      var key = _a[0],\n          value = _a[1];\n\n      var hasItem = _this.has(key);\n\n      _this.setItem(key, value);\n\n      return !hasItem;\n    });\n    var deletedKeys = this.spliceKeys.apply(this, [index, deleteCount].concat(added.map(function (_a) {\n      var key = _a[0];\n      return key;\n    })));\n    deletedKeys.forEach(function (key) {\n      _this.removeItem(key);\n    });\n    var obj = this.objKeys;\n    return deletedKeys.map(function (key) {\n      return [key, obj[key]];\n    });\n  };\n  /**\n   *\n   */\n\n\n  __proto.forEach = function (callback) {\n    var obj = this.obj;\n    this.objKeys.forEach(function (key, i) {\n      return callback(obj[key], key, i, obj);\n    });\n    return this;\n  };\n\n  __proto.setItem = function (key, value) {\n    this.obj[key] = value;\n  };\n\n  __proto.removeItem = function (key) {\n    delete this.obj[key];\n  };\n\n  __proto.spliceKeys = function (index, deleteCount) {\n    var _a;\n\n    var items = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      items[_i - 2] = arguments[_i];\n    }\n\n    return (_a = this.objKeys).splice.apply(_a, [index, deleteCount].concat(items));\n  };\n\n  return ListMap;\n}();\n\nexport default ListMap;","map":null,"metadata":{},"sourceType":"module"}