{"ast":null,"code":"var _jsxFileName = \"/Users/nghiepphan/code/tham-khao/react-moveable-with-full-drag-select/src/elements/base-elements/component.tsx\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport uuid from 'uuid/v3';\nimport './style.scss';\nexport default class BaseElement extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      frame: {\n        translate: [0, 0, 0],\n        rotate: 0\n      },\n      isSelected: false\n    };\n    this.id = uuid();\n    this.wrapper = null;\n\n    this.handleWrapperRef = r => {\n      this.wrapper = r;\n    };\n  }\n\n  componentDidMount() {\n    if (typeof this.props.onMounted === 'function') {\n      this.props.onMounted(this.id, this.wrapper);\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof this.props.onUnmounted === 'function') {\n      this.props.onUnmounted(this.id, this.wrapper);\n    }\n  }\n\n  render() {\n    const id = this.props.id;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.handleWrapperRef,\n      className: classNames('element__wrapper', {\n        element__selected: this.state.isSelected\n      }),\n      style: this.props.style,\n      \"data-key\": id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, this.props.children));\n  }\n\n}","map":{"version":3,"sources":["/Users/nghiepphan/code/tham-khao/react-moveable-with-full-drag-select/src/elements/base-elements/component.tsx"],"names":["classNames","React","uuid","BaseElement","PureComponent","state","frame","translate","rotate","isSelected","id","wrapper","handleWrapperRef","r","componentDidMount","props","onMounted","componentWillUnmount","onUnmounted","render","element__selected","style","children"],"mappings":";AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAO,cAAP;AAqBA,eAAe,MAAMC,WAAN,SAA0BF,KAAK,CAACG,aAAhC,CAGb;AAAA;AAAA;AAAA,SACAC,KADA,GACsB;AACpBC,MAAAA,KAAK,EAAE;AACLC,QAAAA,SAAS,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADN;AAELC,QAAAA,MAAM,EAAE;AAFH,OADa;AAKpBC,MAAAA,UAAU,EAAE;AALQ,KADtB;AAAA,SASQC,EATR,GASaR,IAAI,EATjB;AAAA,SAuBQS,OAvBR,GAuBoD,IAvBpD;;AAAA,SAyBAC,gBAzBA,GAyBoBC,CAAD,IAAuB;AACxC,WAAKF,OAAL,GAAeE,CAAf;AACD,KA3BD;AAAA;;AAWAC,EAAAA,iBAAiB,GAAS;AACxB,QAAI,OAAO,KAAKC,KAAL,CAAWC,SAAlB,KAAgC,UAApC,EAAgD;AAC9C,WAAKD,KAAL,CAAWC,SAAX,CAAqB,KAAKN,EAA1B,EAA8B,KAAKC,OAAnC;AACD;AACF;;AAEDM,EAAAA,oBAAoB,GAAG;AACrB,QAAI,OAAO,KAAKF,KAAL,CAAWG,WAAlB,KAAkC,UAAtC,EAAkD;AAChD,WAAKH,KAAL,CAAWG,WAAX,CAAuB,KAAKR,EAA5B,EAAgC,KAAKC,OAArC;AACD;AACF;;AAQDQ,EAAAA,MAAM,GAAG;AAAA,UACCT,EADD,GACQ,KAAKK,KADb,CACCL,EADD;AAEP,wBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,GAAG,EAAE,KAAKE,gBADZ;AAEE,MAAA,SAAS,EAAEZ,UAAU,CAAC,kBAAD,EAAqB;AACxCoB,QAAAA,iBAAiB,EAAE,KAAKf,KAAL,CAAWI;AADU,OAArB,CAFvB;AAKE,MAAA,KAAK,EAAE,KAAKM,KAAL,CAAWM,KALpB;AAME,kBAAUX,EANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQG,KAAKK,KAAL,CAAWO,QARd,CADF,CADF;AAcD;;AA7CD","sourcesContent":["import classNames from 'classnames';\nimport React from 'react';\nimport uuid from 'uuid/v3';\nimport './style.scss';\n\nexport type ElementProps = {\n  id?: string;\n  children?: React.ReactElement;\n  style?: React.CSSProperties;\n  onMounted?: (id: string, element: HTMLElement | SVGAElement | null) => void;\n  onUnmounted?: (id: string, element: HTMLElement | SVGAElement | null) => void;\n};\n\ntype TranslateType = [number, number, number?];\n\ntype ElementState = {\n  frame: {\n    translate: TranslateType;\n    rotate: number;\n  };\n  target?: HTMLElement;\n  isSelected?: boolean;\n};\n\nexport default class BaseElement extends React.PureComponent<\n  ElementProps,\n  ElementState\n> {\n  state: ElementState = {\n    frame: {\n      translate: [0, 0, 0],\n      rotate: 0,\n    },\n    isSelected: false,\n  };\n\n  private id = uuid();\n\n  componentDidMount(): void {\n    if (typeof this.props.onMounted === 'function') {\n      this.props.onMounted(this.id, this.wrapper);\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof this.props.onUnmounted === 'function') {\n      this.props.onUnmounted(this.id, this.wrapper);\n    }\n  }\n\n  private wrapper: HTMLElement | SVGAElement | null = null;\n\n  handleWrapperRef = (r: HTMLDivElement) => {\n    this.wrapper = r;\n  };\n\n  render() {\n    const { id } = this.props;\n    return (\n      <React.Fragment>\n        <div\n          ref={this.handleWrapperRef}\n          className={classNames('element__wrapper', {\n            element__selected: this.state.isSelected,\n          })}\n          style={this.props.style}\n          data-key={id}\n        >\n          {this.props.children}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}